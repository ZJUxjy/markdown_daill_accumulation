
# reactor模式

要求主线程只负责监听文件描述上是否有事件发生，有的话立即将该事件通知工作线程，除此之外主线程不做任何其他实质性工作。读写数据，接收新的连接以及处理客户请求均在工作线程中进行。
1.主线程向epoll内核时间表中注册socket上的读就绪事件。
2.主线程调用epoll_wait等待socket上有数据可读
3.当socket上有数据可读时，epoll_wait通知主线程。主线程将socket可读事件放入请求队列。
4.睡眠在请求队列上的某个工作线程被唤醒，它从socket读取数据，并处理客户请求，然后往epoll内核时间表中注册该socket上的写就绪事件